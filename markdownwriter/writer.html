<!DOCTYPE html>
<html>
  <head>
    <title>Markdown.js</title>
    <script
      type="text/javascript"
      src="../markdownwriter/js/showdown.min.js"
    ></script>
  </head>
  <style>
    blockquote {
      border-left: #eee solid 5px;
      padding-left: 20px;
    }
    ul li {
      line-height: 20px;
    }

    code {
      color: #d34b62;
      background: #f6f6f6;
    }
  </style>

  <body>
    <div id="result"></div>
    <div>
      <textarea
        id="oriContent"
        style="height:200px;width:600px;"
        onkeyup="convert()"
      ></textarea>
    </div>
    <script type="text/javascript">
      function convert() {
        var text = document.getElementById("oriContent").value;
        var converter = new showdown.Converter();
        var html = converter.makeHtml(text);
        document.getElementById("result").innerHTML = html;
      }

      function saveFile(content) {
        //保存
        var filename = prompt("输入您的文件名");
        var win = window.open("", "", "top=10000,left=10000");
        win.document.write(document.getElementById(content).innerHTML);
        win.document.execCommand("SaveAs", "", filename);
        win.close();
      }
    </script>
    <input type="button" value="保存文本" onClick="saveFile(oriContent)" />
  </body>
</html>
